@model Mango.Web.Areas.Admin.Models.OrganizationFormViewModel

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    
    @Html.EditorFor(model => model.OrganizationId)
    
    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">
            @Html.LabelFor(model => model.Name, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Abbreviation, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Abbreviation, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Abbreviation, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.PrimaryLogoImage, new {@class = "control-label col-md-2"})
            <div class="col-md-10">
                <a class="btn btn-info" id="btnPrimaryLogoImageOpenModal">Upload Image</a>
                @Html.HiddenFor(model => model.PrimaryLogoImage, new {htmlAttributes = new {@class = "form-control"}})
                @Html.ValidationMessageFor(model => model.PrimaryLogoImage, "", new {@class = "text-danger"})
            </div>
            <div class="col-md-10 col-md-offset-2" style="margin-top: 5px;">
                <div id="containerDisplayPrimaryLogoImage"></div>
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-default btn-primary">
                    <span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> Save
                </button>
            </div>
        </div>
    </div>
}

<script>
    var optionsImageUploadPrimaryLogoImage = {
        urlDataTarget: "#PrimaryLogoImage",
        modalId: "#modalPrimaryLogoImage",
        modalTrigger: "#btnPrimaryLogoImageOpenModal",
        containerDisplay: "#containerDisplayPrimaryLogoImage",
        onUploaded: function (url) {
            console.log("callbackUploaded: uploaded - " + url);
        }
    };
</script>

<div id="modalPrimaryLogoImage" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Upload Primary Logo Image</h4>
            </div>
            <div class="modal-body">
                <form action="/admin/api/fileupload" method="post" enctype="multipart/form-data">
                    <div class="form-horizontal">
                        <div class="form-group" data-upload="controls">
                            <label class="control-label col-md-2">File</label>
                            <div class="col-md-10">
                                <input type="file" data-upload="fileupload" />
                            </div>
                        </div>
                        <div data-upload="progress">
                            <img src="/content/images/ajax-loader.gif" alt="" />
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-upload="upload">Upload</button>
            </div>
        </div>
    </div>
</div>



